(this.webpackJsonpeprozar=this.webpackJsonpeprozar||[]).push([[0],{1441:function(e,t,n){"use strict";n.r(t);var c=n(1),r=n(14),a=(n(19),n(7)),o=n(3),i=n(2),s=n.n(i),l=["0","1","10","100","1000","1001","1002","1003","1004","1005","1006","1008","1009","101","1010","1011","1012","1013","1014","1015","1016","1018","1019","102","1020","1021","1022","1023","1024","1025","1026","1027","1028","1029","103","1031","1032","1033","1035","1036","1037","1038","1039","104","1040","1041","1042","1043","1044","1045","1047","1048","1049","1050","1051","1052","1053","1054","1055","1056","1057","1058","1059","106","1060","1061","1062","1063","1064","1065","1066","1067","1068","1069","107","1070","1071","1072","1073","1074","1075","1076","1077","1078","1079","108","1080","1081","1082","1083","1084","109","11","110","111","112","113","114","115","116"].map((function(e){return{id:s.a.random.uuid(),name:s.a.commerce.productName(),price:s.a.commerce.price(10,400,2,"$"),shortDescription:s.a.lorem.sentence(),description:s.a.lorem.sentences(),image:"https://picsum.photos/id/".concat(e,"/500/500/"),category:Array(Math.floor(3*Math.random())+1).fill().map((function(){return s.a.commerce.department()})).filter((function(e,t,n){return!n.slice(0,t).includes(e)})).sort((function(e,t){return e>t?1:-1})),discount:Math.floor(35*Math.random())/100,discountDate:s.a.date.soon(2)}})).sort((function(e,t){return e.id<t.id?-1:1})),u=function(){var e=localStorage.getItem("eprozar-products");return e?JSON.parse(e):(localStorage.setItem("eprozar-products",JSON.stringify(l)),l)}(),d=n(0),j=function(e){var t=e.productCount;return Object(d.jsx)("header",{children:Object(d.jsxs)("nav",{children:[Object(d.jsx)("h1",{children:Object(d.jsx)("a",{href:"/",id:"logo",children:"eProzar"})}),Object(d.jsxs)("ul",{children:[Object(d.jsx)("li",{children:Object(d.jsx)("a",{href:"/",children:"Products"})}),Object(d.jsxs)("li",{children:[Object(d.jsx)("a",{href:"/",children:"Shopping cart"}),t>0?Object(d.jsx)("span",{children:t}):null]})]})]})})},h=function(e){var t=e.handleFilterInput,n=e.category,c=e.categories,r=e.handleFilterSelect,a=e.handleNumber,o=e.reset;return Object(d.jsx)("section",{className:"filter",children:Object(d.jsxs)("div",{className:"container",children:[Object(d.jsx)("input",{type:"text",placeholder:"Product name",onChange:function(e){e.preventDefault(),t(e.target.value)}}),Object(d.jsxs)("select",{value:n,onChange:function(e){e.preventDefault(),r(e.target.value)},children:[Object(d.jsx)("option",{value:"",children:"Select a category"}),c.length?c.map((function(e){return Object(d.jsx)("option",{value:e,children:e},e)})):null]}),Object(d.jsx)("input",{type:"number",min:"0",step:"10",placeholder:"Price under...",onChange:function(e){e.preventDefault(),a(e.target.value)}}),Object(d.jsx)("button",{className:"btn",onClick:o,children:"Reset all filters"})]})})},p=function(e){var t=e.promoted,n=e.products;n=n.sort((function(e,t){return Math.random()>.5?-1:1}));var c,r=t.length?n.filter((function(e){return t.includes(e.id)}))[0]:n[0],a=new Date(r.discountDate).toLocaleString("en-us",{month:"short",day:"numeric"}),o=Math.floor(100*function(e,t){return Math.floor(100*e*(1-t))/100}((c=r.price,parseFloat(c.slice(1),10)),r.discount))/100;return Object(d.jsx)("section",{className:"promotion",children:Object(d.jsxs)("div",{className:"container shadow",style:{backgroundImage:"url(".concat(r.image,")")},children:[Object(d.jsx)("h2",{children:"Don't miss today's hot deal!"}),Object(d.jsxs)("div",{className:"card",children:[Object(d.jsx)("h3",{children:r.name}),Object(d.jsx)("p",{children:r.shortDescription}),Object(d.jsx)("p",{className:"old-price",children:r.price}),Object(d.jsxs)("p",{children:[Object(d.jsxs)("strong",{children:["$",o]})," only on"," ",Object(d.jsx)("strong",{children:a})]})]})]})})},b=function(e){var t=e.product,n=e.shoppingCart,r=e.handlePurchase,a=e.handleFilterSelect,o=e.promote,i=e.promoted,s=function(e){e.preventDefault(),a(e.target.dataset.id)};return Object(d.jsxs)("div",{className:"card",children:[Object(d.jsx)("div",{className:"card-image",children:Object(d.jsx)("img",{src:t.image,alt:t.name})}),Object(d.jsxs)("div",{className:"card-body",children:[Object(d.jsx)("h3",{children:t.name}),Object(d.jsx)("small",{children:t.category.map((function(e,t){return Object(d.jsxs)(c.Fragment,{children:[Object(d.jsx)("a",{"data-id":e,onClick:s,href:"/",children:e})," "]},t)}))}),Object(d.jsx)("p",{children:t.description}),Object(d.jsx)("strong",{children:t.price}),Object(d.jsxs)("label",{children:[i.includes(t.id)?"Remove ".concat(t.name," from promotion list"):"Add ".concat(t.name," to promotion list"),Object(d.jsx)("input",{type:"checkbox","data-pid":t.id,onChange:function(e){e.preventDefault(),o(e.target.dataset.pid,e.target.checked)},checked:i.includes(t.id)})]}),Object(d.jsx)("button",{className:"btn shadow","data-id":t.id,onClick:function(e){e.preventDefault(),r(e.target.dataset.id)},children:n.includes(t.id)?"Remove from cart":"Add to cart"})]})]})},f=function(e,t,n){if(e)return Object(d.jsx)("li",{children:Object(d.jsx)("button",{className:"btn",onClick:t,children:n})})},m=function(e){var t,n=e.products,c=e.index,r=e.shoppingCart,a=e.handlePurchase,o=e.handleProductNavigation,i=e.handleFilterSelect,s=e.promote,l=e.promoted,u=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6,n=[],c=0;c<e.length;c+=t){var r=e.slice(c,c+t);n.push(r)}return n}(n),j=c>0,h=c<u.length-1,p=function(e){e.preventDefault(),o(e.target.dataset.page)};return Object(d.jsx)("section",{className:"products",children:Object(d.jsxs)("div",{className:"container",children:[(null===(t=u[c])||void 0===t?void 0:t.length)?u[c].map((function(e){return Object(d.jsx)(b,{product:e,shoppingCart:r,handlePurchase:a,handleFilterSelect:i,promote:s,promoted:l},e.id)})):Object(d.jsx)("p",{className:"error",children:"No products match your query."}),j||h?Object(d.jsx)("nav",{children:Object(d.jsxs)("ul",{children:[f(j,(function(e){e.preventDefault(),o(c-1)}),"Previous"),u.map((function(e,t){return Object(d.jsx)("li",{children:Object(d.jsx)("button",{className:t===c?"btn active":"btn","data-page":t,onClick:p,children:t+1})},t)})),f(h,(function(e){e.preventDefault(),o(c+1)}),"Next")]})}):null]})})},O=function(){return Object(d.jsx)("footer",{children:Object(d.jsxs)("div",{className:"container",children:[Object(d.jsxs)("p",{children:["We bring you ",Object(d.jsx)("strong",{children:"only the best products"})," that can be randomly generated!"]}),Object(d.jsxs)("p",{children:["All the content has been generated using"," ",Object(d.jsx)("a",{href:"https://marak.github.io/faker.js/",children:"faker.js"})," with images from ",Object(d.jsx)("a",{href:"https://picsum.photos/",children:"Lorem Picsum"})]})]})})},x=function(e){return e.sort((function(e,t){return e.id>t.id?-1:1}))},g=function(){var e=Object(c.useState)(x(u)),t=Object(o.a)(e,2),n=t[0],r=t[1],i=Object(c.useState)([u.sort((function(e,t){return Math.random()>.5?1:-1})).map((function(e){return e.id}))[0]]),s=Object(o.a)(i,2),l=s[0],b=s[1],f=Object(c.useState)(""),g=Object(o.a)(f,2),v=g[0],y=g[1],N=Object(c.useState)(0),S=Object(o.a)(N,2),C=S[0],D=S[1],k=Object(c.useState)([]),F=Object(o.a)(k,2),P=F[0],M=F[1],w=Object(c.useState)(0),I=Object(o.a)(w,2),z=(I[0],I[1]),A=function(e){r(e.length?u.filter((function(t){return t.category.includes(e)})):x(u)),D(0),y(e),z(0),document.querySelector("section.filter input[type=text]").value=""},J=u.map((function(e){return e.category})).reduce((function(e,t){return e.concat(t)}),[]).filter((function(e,t,n){return!n.slice(0,t).includes(e)})).sort();return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(j,{productCount:P.length}),Object(d.jsx)(h,{handleFilterInput:function(e){r(e.length?u.filter((function(t){return t.category.concat(t.name).map((function(e){return e.toLowerCase()})).join(" ").includes(e)})):x(u)),D(0),y(""),z(0)},category:v,categories:J,handleFilterSelect:A,handleNumber:function(e){r(e>0?u.filter((function(t){return parseFloat(t.price.slice(1))<=e})):x(u)),D(0),y(0)},reset:function(e){e.preventDefault(),r(u),y(""),D(0),z(0),document.querySelector("section.filter input[type=text]").value=""}}),Object(d.jsx)(p,{promoted:l,products:u}),Object(d.jsx)(m,{products:n,index:C,shoppingCart:P,handlePurchase:function(e){M(P.includes(e)?P.filter((function(t){return t!==e})):[].concat(Object(a.a)(P),[e]))},handleProductNavigation:function(e){e<0&&(e=0),e>=Math.floor(n/6)&&(e=Math.floor(n/6)-1),D(e)},handleFilterSelect:A,promote:function(e,t){b(t?[].concat(Object(a.a)(l),[e]):l.filter((function(t){return t!==e})))},promoted:l}),Object(d.jsx)(O,{})]})};Object(r.render)(Object(d.jsx)(g,{}),document.getElementById("root"))},19:function(e,t,n){}},[[1441,1,2]]]);
//# sourceMappingURL=main.08c73db3.chunk.js.map